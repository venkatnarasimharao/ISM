<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISM Corporation - Who We Are</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/imgs/header_icon.png">
</head>
<body>
    <div id="content-container">
        <!-- Content from index.html will be loaded here -->
    </div>

    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script>
        // Toggle mobile menu function that can be called from anywhere
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu) {
                mobileMenu.classList.toggle('show');
                return false;
            }
        }
        
        function loadExternalContent() {
            fetch('index.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('content-container').innerHTML = data;
                    
                    // Update navigation active states
                    const navLinks = document.querySelectorAll('.nav-link');
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === 'whoWeAre.html') {
                            link.classList.add('active');
                        }
                    });
                    
                    // Re-initialize the hamburger menu functionality
                    // Wait a moment for the DOM to be updated
                    setTimeout(function() {
                        const hamburgerBtn = document.getElementById('hamburgerMenuBtn');
                        const mobileMenu = document.getElementById('mobileMenu');
                        
                        if (hamburgerBtn && mobileMenu) {
                            // Update the button to use our global function
                            hamburgerBtn.setAttribute('onclick', 'toggleMobileMenu(); return false;');
                            hamburgerBtn.setAttribute('href', 'javascript:void(0);');
                            
                            // Close menu when clicking outside
                            document.addEventListener('click', function(event) {
                                if (mobileMenu.classList.contains('show')) {
                                    if (!mobileMenu.contains(event.target) && !hamburgerBtn.contains(event.target)) {
                                        mobileMenu.classList.remove('show');
                                    }
                                }
                            });
                        }
                    }, 100);
                })
                .catch(error => {
                    console.error('Error loading the content:', error);
                    document.getElementById('content-container').innerHTML = '<p>Error loading content. Please try again later.</p>';
                });
        }
        window.onload = loadExternalContent;
    </script>
</body>
</html>
